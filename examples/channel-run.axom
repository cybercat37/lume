scope {
  let (tx, rx) = channel<Int>()

  let sender = spawn {
    tx.send(42)
  }

  let worker = spawn {
    println rx.recv().unwrap()
  }

  sender.join()
  worker.join()
}
